"use strict";(self.webpackChunksama=self.webpackChunksama||[]).push([[671,5,462,521,15],{9671:(C,p,o)=>{o.r(p),o.d(p,{RegisterComponent:()=>h});var u=o(6814),n=o(6223),d=o(9068),r=o(3911),_=o(5219),i=o(6026),l=o(5431),c=o(3193),t=o(9291),P=o(2005),M=o(9376),O=o(9907),a=o(3959);let h=(()=>{class e{constructor(g,m,f,v){this.authController=g,this.toaster=m,this.lang=f,this.authViewController=v,this.appRoutes=i.VP,this.registerForm=new n.cw({first_name:new n.NI(null,[n.kI.required,n.kI.minLength(3)]),last_name:new n.NI(null,[n.kI.required,n.kI.minLength(3)]),email:new n.NI(null,[n.kI.required,n.kI.email]),password:new n.NI(null,[n.kI.required,n.kI.minLength(6)]),phone:new n.NI(null,[n.kI.required]),terms:new n.NI(!1)}),this.countryKey="+20"}register(){if(this.registerForm.markAllAsTouched(),this.registerForm.valid&&!this.registerForm.get("terms")?.value)return this.falidRegister();this.continueRegister()}falidRegister(){this.toaster.error(this.lang.isAr()?"\u0627\u062e\u062a\u0631 \u0627\u0644\u0634\u0631\u0648\u0637 \u0648\u0627\u0644\u0627\u062d\u0643\u0627\u0645":"select terms and conditions")}continueRegister(){const g={...this.registerForm.value,...window.geoLocation,phone:`${this.countryKey}${this.registerForm.value?.phone}`};this.authController.register(g)}setCountryKey(g){this.countryKey=g.target.value}static#t=this.\u0275fac=function(m){return new(m||e)(t.Y36(P.Q),t.Y36(M.M),t.Y36(O.C),t.Y36(a.w))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-register"]],standalone:!0,features:[t._Bn([_.ez]),t.jDz],decls:47,vars:34,consts:[["bindingLayout",""],[1,"text-center"],[1,"forms","grid-md","mt-5",3,"formGroup"],[1,"d-flex","gap-3"],[1,"auth-form-group"],["type","text","formControlName","first_name",1,"auth-form-controller",3,"placeholder"],["type","text","formControlName","last_name",1,"auth-form-controller",3,"placeholder"],["type","text","formControlName","phone",1,"auth-form-controller",3,"placeholder"],[1,"auth-form-group","form-select-group","w-25"],["id","country","aria-placeholder","country",1,"form-select",3,"change"],["value","20","selected","",1,"form-control"],["value","966",1,"form-control"],["type","text","formControlName","email",1,"auth-form-controller",3,"placeholder"],["autocomplete","current-password","id","password","type","password","formControlName","password",1,"auth-form-controller",3,"placeholder"],[1,"condation","d-flex","align-items-center","gap-1"],["for","condation",1,"d-flex","align-items-center","gap-2"],["formControlName","terms","id","condation","type","checkbox",1,"auth-form-controller"],["href",""],[1,"actions","grid-sm"],[1,"regsiter_btn",3,"click"],[1,"login_btn",3,"click"]],template:function(m,f){1&m&&(t.TgZ(0,"div",0)(1,"h6",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"form",2)(5,"div",3)(6,"div",4),t._UZ(7,"input",5),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"div",4),t._UZ(10,"input",6),t.ALo(11,"translate"),t.qZA()(),t.TgZ(12,"div",3)(13,"div",4),t._UZ(14,"input",7),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"div",8)(17,"select",9),t.NdJ("change",function(b){return f.setCountryKey(b)}),t.TgZ(18,"option",10),t._uU(19,"+20 EG"),t.qZA(),t.TgZ(20,"option",11),t._uU(21,"+966 SA"),t.qZA()()()(),t.TgZ(22,"div",4),t._UZ(23,"input",12),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",4),t._UZ(26,"input",13),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"div",14)(29,"label",15),t._UZ(30,"input",16),t.TgZ(31,"span"),t._uU(32),t.ALo(33,"translate"),t.qZA()(),t.TgZ(34,"a",17),t._uU(35),t.ALo(36,"translate"),t.qZA()(),t.TgZ(37,"div",18)(38,"button",19),t.NdJ("click",function(){return f.register()}),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"p"),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"button",20),t.NdJ("click",function(){return f.authViewController.login()}),t._uU(45),t.ALo(46,"translate"),t.qZA()()()()),2&m&&(t.xp6(2),t.Oqu(t.lcZ(3,12,"auth.create_new_account")),t.xp6(2),t.Q6J("formGroup",f.registerForm),t.xp6(3),t.Q6J("placeholder",t.lcZ(8,14,"placeholder.frist_name")),t.xp6(3),t.Q6J("placeholder",t.lcZ(11,16,"placeholder.last_name")),t.xp6(4),t.Q6J("placeholder",t.lcZ(15,18,"placeholder.mobile_number")),t.xp6(9),t.Q6J("placeholder",t.lcZ(24,20,"placeholder.email")),t.xp6(3),t.Q6J("placeholder",t.lcZ(27,22,"placeholder.password")),t.xp6(6),t.Oqu(t.lcZ(33,24,"placeholder.agree")),t.xp6(3),t.Oqu(t.lcZ(36,26,"placeholder.terms_condations")),t.xp6(4),t.Oqu(t.lcZ(40,28,"label.new_account")),t.xp6(3),t.hij("",t.lcZ(43,30,"label.already_have_account")," "),t.xp6(3),t.Oqu(t.lcZ(46,32,"label.login")))},dependencies:[u.ez,l.$,r.aw,r.X$,n.UX,n._Y,n.YN,n.Kr,n.Fj,n.Wl,n.JJ,n.JL,n.sg,n.u,d.Bz,c.A],styles:[".app-btn[_ngcontent-%COMP%]{background-color:transparent;transition:.5s;cursor:pointer;border:none;outline:none;padding:.8em 1.5em;border-radius:1em}.app-btn-primary[_ngcontent-%COMP%]{background-color:rgb(var(--primary));color:#fff}.app-btn-primary[_ngcontent-%COMP%]:focus, .app-btn-primary[_ngcontent-%COMP%]:hover{box-shadow:0 4px 32px 0 rgba(var(--primary),.4)}.app-btn-accent[_ngcontent-%COMP%]{background-color:rgb(var(--accent));color:#fff!important}.app-btn-accent[_ngcontent-%COMP%]:focus, .app-btn-accent[_ngcontent-%COMP%]:hover{box-shadow:0 4px 32px 0 rgba(var(--accent),.4)}.app-btn-offset-outline[_ngcontent-%COMP%]{color:rgb(var(text));border:1px solid rgb(var(--bg-offset))}.app-btn-offset-outline[_ngcontent-%COMP%]:focus, .app-btn-offset-outline[_ngcontent-%COMP%]:hover{box-shadow:0 4px 32px 0 rgba(var(--bg-offset),.5)}.app-btn-white[_ngcontent-%COMP%]{background-color:#fff;color:rgb(var(--text-color-offset))}.app-btn-white[_ngcontent-%COMP%]:focus, .app-btn-white[_ngcontent-%COMP%]:hover{box-shadow:0 4px 32px 0 rgba(var(--text-color-offset),.1)}h6[_ngcontent-%COMP%]{color:rgb(var(--text-color));font-size:16px;font-weight:500;text-align:center;margin:10px auto}.auth-form-group[_ngcontent-%COMP%]{border-radius:20px;background:#F9F9F9;width:100%;height:100%;display:inline-flex;justify-content:center;align-items:center}.auth-form-group[_ngcontent-%COMP%]   .auth-form-controller[_ngcontent-%COMP%]{padding:15px;background-color:transparent;border:none;outline:none;width:100%;color:rgb(var(--text-color));font-size:16px;font-weight:400}.auth-form-group[_ngcontent-%COMP%]   .auth-form-controller[_ngcontent-%COMP%]::placeholder{color:#0000004d}.form-select[_ngcontent-%COMP%]{border:none;outline:none;background-color:transparent;display:block;width:90%;padding:15px 5px;font-size:1rem}.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{display:block;min-height:1.2em;padding:0 2px 1px;white-space:nowrap}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;display:inline-block;font-size:18px;border-radius:6px}.actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}[_ngcontent-%COMP%]:where(.tablet-mode, .mobile-mode)[_ngcontent-%COMP%]   .auth-form-group[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::placeholder{font-size:.8em!important}[_ngcontent-%COMP%]:where(.tablet-mode, .mobile-mode)[_ngcontent-%COMP%]   .form-select-group[_ngcontent-%COMP%]{min-width:90px}[_ngcontent-%COMP%]:where(.tablet-mode, .mobile-mode)[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{font-size:13px!important}[_ngcontent-%COMP%]:where(.tablet-mode, .mobile-mode)[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;display:inline-block;font-size:14px;border-radius:6px}[_ngcontent-%COMP%]:where(.tablet-mode, .mobile-mode)[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_ngcontent-%COMP%]:where(.tablet-mode, .mobile-mode)[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}.forms[_ngcontent-%COMP%]{position:relative;z-index:9}.condation[_ngcontent-%COMP%]{font-size:14px}.condation[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{accent-color:rgb(var(--primary));width:20px;height:20px;font-size:10px}.actions[_ngcontent-%COMP%]{text-align:center}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;transition:.5s;cursor:pointer;border:none;outline:none;width:100%;display:inline-block;font-size:18px;border-radius:6px}.actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.actions[_ngcontent-%COMP%]   .regsiter_btn[_ngcontent-%COMP%]{padding:10px;background-color:rgb(var(--primary));color:#fff}"]})}return e})()},2005:(C,p,o)=>{o.d(p,{Q:()=>O});var u=o(6026);class n{constructor(){this.store={}}static getInstance(){return n.instance||(n.instance=new n),n.instance}set(h,e){this.store[h]=e}get(h){return this.store[h]}has(h){const e=this.get(h);return!(!e&&0!=e&&""!=e)}remove(h){delete this.store[h]}}const d=n.getInstance();var r=o(9291),_=o(3052),i=o(9862);let l=(()=>{class a{constructor(e){this.http=e,this.baseUrl=_.N.baseUrl}register(e){return this.http.post(`${this.baseUrl}v1/register`,e)}login(e){return this.http.post(`${this.baseUrl}v1/login`,e)}sendCode(e){return this.http.post(`${this.baseUrl}v1/send-code`,e)}verify(e){return this.http.post(`${this.baseUrl}verify`,e)}resendCode(e){return this.http.post(`${this.baseUrl}resend-code`,e)}verifyPasswordCode(e){return this.http.post(`${this.baseUrl}verify-code`,e)}resetPassword(e){return this.http.post(`${this.baseUrl}reset-password`,e)}static#t=this.\u0275fac=function(s){return new(s||a)(r.LFG(i.eN))};static#e=this.\u0275prov=r.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var c=o(3959),t=o(7699),P=o(9376),M=o(9068);let O=(()=>{class a{constructor(e,s,g,m,f){this.endPoint=e,this.authView=s,this.authState=g,this.toaster=m,this.router=f}register(e){this.endPoint.register(e).subscribe({next:s=>{if(![200].includes(s.status))return this.toaster.error(s.msg);d.set("otpType","email"),this.toaster.success(s.msg),this.router.navigate([u.VP.auth.register,{email:e.email}])},error:s=>{this.toaster.error(s)}})}login(e){this.endPoint.login(e).subscribe({next:s=>{if(![200].includes(s.status))return this.toaster.error(s.msg);this.authView.close(),this.toaster.success(s.msg),this.authState.login(s?.token,s.data)},error:s=>{this.toaster.error(s)}})}forgetPassword(e){this.endPoint.sendCode(e).subscribe({next:()=>{this.router.navigate([u.VP.auth.confirm,{key:e.key}])}})}static#t=this.\u0275fac=function(s){return new(s||a)(r.LFG(l),r.LFG(c.w),r.LFG(t.V),r.LFG(P.M),r.LFG(M.F0))};static#e=this.\u0275prov=r.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},5431:(C,p,o)=>{o.d(p,{$:()=>r});var u=o(6814),n=o(6197),d=o(9291);let r=(()=>{class _{static#t=this.\u0275fac=function(c){return new(c||_)};static#e=this.\u0275mod=d.oAB({type:_});static#n=this.\u0275inj=d.cJS({providers:[n.K],imports:[u.ez]})}return _})()},6197:(C,p,o)=>{o.d(p,{K:()=>d});var u=o(9291),n=o(9907);let d=(()=>{class r{constructor(i){this.lang=i,this.state=!1,this.useDefaultElementStyle=!0,this.closedEvent=l=>{l.target.closest(".ng-menu")||this.close()}}open(){this.state=!0,setTimeout(()=>{document.addEventListener("click",this.closedEvent)},1)}close(){this.state=!1,document.removeEventListener("click",this.closedEvent)}toggle(i){this.state?this.close():this.open(),this.setMenu(i)}setMenu(i){const{bottom:l,width:c,right:t}=i.getBoundingClientRect();let P=0;if(P=Math.max(c,i.offsetLeft),this.menuEl.style.top=`${l}px`,this.lang.isAr()&&(this.menuEl.style.right="unset",this.menuEl.style.left=`${P}px`,this.menuEl.style.transform=`translateX(-${c/2}px)`),this.lang.isEn()){const M=document.documentElement.clientWidth-t;this.menuEl.style.left="unset",this.menuEl.style.right=`${Math.max(M+c,M)}px`,this.menuEl.style.transform=`translateX(${c/2}px)`}}static#t=this.\u0275fac=function(l){return new(l||r)(u.LFG(n.C))};static#e=this.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac})}return r})()}}]);
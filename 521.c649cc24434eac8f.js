"use strict";(self.webpackChunksama=self.webpackChunksama||[]).push([[521,5,462,15],{2005:(U,u,r)=>{r.d(u,{Q:()=>b});var h=r(6026);class a{constructor(){this.store={}}static getInstance(){return a.instance||(a.instance=new a),a.instance}set(n,t){this.store[n]=t}get(n){return this.store[n]}has(n){const t=this.get(n);return!(!t&&0!=t&&""!=t)}remove(n){delete this.store[n]}}const c=a.getInstance();var o=r(9291),l=r(3052),d=r(9862);let v=(()=>{class e{constructor(t){this.http=t,this.baseUrl=l.N.baseUrl}register(t){return this.http.post(`${this.baseUrl}v1/register`,t)}login(t){return this.http.post(`${this.baseUrl}v1/login`,t)}sendCode(t){return this.http.post(`${this.baseUrl}v1/send-code`,t)}verify(t){return this.http.post(`${this.baseUrl}verify`,t)}resendCode(t){return this.http.post(`${this.baseUrl}resend-code`,t)}verifyPasswordCode(t){return this.http.post(`${this.baseUrl}verify-code`,t)}resetPassword(t){return this.http.post(`${this.baseUrl}reset-password`,t)}static#t=this.\u0275fac=function(s){return new(s||e)(o.LFG(d.eN))};static#s=this.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var f=r(3959),g=r(7699),p=r(9376),m=r(9795);let b=(()=>{class e{constructor(t,s,i,F,P){this.endPoint=t,this.authView=s,this.authState=i,this.toaster=F,this.router=P}register(t){this.endPoint.register(t).subscribe({next:s=>{if(![200].includes(s.status))return this.toaster.error(s.msg);c.set("otpType","email"),this.toaster.success(s.msg),this.router.navigate([h.VP.auth.register,{email:t.email}])},error:s=>{this.toaster.error(s)}})}login(t,s){this.endPoint.login(t).subscribe({next:i=>{if(![200].includes(i.status))return this.toaster.error(i.msg);this.authView.close(s),this.toaster.success(i.msg),this.authState.login(i?.token,i.data)},error:i=>{this.toaster.error(i)}})}forgetPassword(t){this.endPoint.sendCode(t).subscribe({next:()=>{this.router.navigate([h.VP.auth.confirm,{key:t.key}])}})}static#t=this.\u0275fac=function(s){return new(s||e)(o.LFG(v),o.LFG(f.w),o.LFG(g.V),o.LFG(p.M),o.LFG(m.F0))};static#s=this.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()}}]);
"use strict";(self.webpackChunksama=self.webpackChunksama||[]).push([[671,5,462,521,15],{9671:(O,h,n)=>{n.r(h),n.d(h,{RegisterComponent:()=>o});var p=n(6814),e=n(6223),m=n(57),r=n(3911),l=n(5219),c=n(6026),i=n(5524),a=n(3193),t=n(9291),f=n(2005),C=n(9376),u=n(9907),g=n(3959);let o=(()=>{class s{constructor(d,_,v,P){this.authController=d,this.toaster=_,this.lang=v,this.authViewController=P,this.appRoutes=c.VP,this.registerForm=new e.cw({first_name:new e.NI(null,[e.kI.required,e.kI.minLength(3)]),last_name:new e.NI(null,[e.kI.required,e.kI.minLength(3)]),email:new e.NI(null,[e.kI.required,e.kI.email]),password:new e.NI(null,[e.kI.required,e.kI.minLength(6)]),phone:new e.NI(null,[e.kI.required]),terms:new e.NI(!1)}),this.countryKey="+20"}register(){if(this.registerForm.markAllAsTouched(),this.registerForm.valid&&!this.registerForm.get("terms")?.value)return this.falidRegister();this.continueRegister()}falidRegister(){this.toaster.error(this.lang.isAr()?"\u0627\u062e\u062a\u0631 \u0627\u0644\u0634\u0631\u0648\u0637 \u0648\u0627\u0644\u0627\u062d\u0643\u0627\u0645":"select terms and conditions")}continueRegister(){const d={...this.registerForm.value,...window.geoLocation,phone:`${this.countryKey}${this.registerForm.value?.phone}`};this.authController.register(d)}setCountryKey(d){this.countryKey=d.target.value}static#t=this.\u0275fac=function(_){return new(_||s)(t.Y36(f.Q),t.Y36(C.M),t.Y36(u.C),t.Y36(g.w))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-register"]],standalone:!0,features:[t._Bn([l.ez]),t.jDz],decls:47,vars:34,consts:[["bindingLayout",""],[1,"text-center"],[1,"forms","grid-md","mt-5",3,"formGroup"],[1,"d-flex","gap-3"],[1,"auth-form-group"],["type","text","formControlName","first_name",1,"auth-form-controller",3,"placeholder"],["type","text","formControlName","last_name",1,"auth-form-controller",3,"placeholder"],["type","text","formControlName","phone",1,"auth-form-controller",3,"placeholder"],[1,"auth-form-group","form-select-group","w-25"],["id","country","aria-placeholder","country",1,"form-select",3,"change"],["value","20","selected","",1,"form-control"],["value","966",1,"form-control"],["type","text","formControlName","email",1,"auth-form-controller",3,"placeholder"],["autocomplete","current-password","id","password","type","password","formControlName","password",1,"auth-form-controller",3,"placeholder"],[1,"condation","d-flex","align-items-center","gap-1"],["for","condation",1,"d-flex","align-items-center","gap-2"],["formControlName","terms","id","condation","type","checkbox",1,"auth-form-controller"],["href",""],[1,"actions","grid-sm"],[1,"regsiter_btn",3,"click"],[1,"login_btn",3,"click"]],template:function(_,v){1&_&&(t.TgZ(0,"div",0)(1,"h6",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"form",2)(5,"div",3)(6,"div",4),t._UZ(7,"input",5),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"div",4),t._UZ(10,"input",6),t.ALo(11,"translate"),t.qZA()(),t.TgZ(12,"div",3)(13,"div",4),t._UZ(14,"input",7),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"div",8)(17,"select",9),t.NdJ("change",function(b){return v.setCountryKey(b)}),t.TgZ(18,"option",10),t._uU(19,"+20 EG"),t.qZA(),t.TgZ(20,"option",11),t._uU(21,"+966 SA"),t.qZA()()()(),t.TgZ(22,"div",4),t._UZ(23,"input",12),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",4),t._UZ(26,"input",13),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"div",14)(29,"label",15),t._UZ(30,"input",16),t.TgZ(31,"span"),t._uU(32),t.ALo(33,"translate"),t.qZA()(),t.TgZ(34,"a",17),t._uU(35),t.ALo(36,"translate"),t.qZA()(),t.TgZ(37,"div",18)(38,"button",19),t.NdJ("click",function(){return v.register()}),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"p"),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"button",20),t.NdJ("click",function(){return v.authViewController.login()}),t._uU(45),t.ALo(46,"translate"),t.qZA()()()()),2&_&&(t.xp6(2),t.Oqu(t.lcZ(3,12,"auth.create_new_account")),t.xp6(2),t.Q6J("formGroup",v.registerForm),t.xp6(3),t.Q6J("placeholder",t.lcZ(8,14,"placeholder.frist_name")),t.xp6(3),t.Q6J("placeholder",t.lcZ(11,16,"placeholder.last_name")),t.xp6(4),t.Q6J("placeholder",t.lcZ(15,18,"placeholder.mobile_number")),t.xp6(9),t.Q6J("placeholder",t.lcZ(24,20,"placeholder.email")),t.xp6(3),t.Q6J("placeholder",t.lcZ(27,22,"placeholder.password")),t.xp6(6),t.Oqu(t.lcZ(33,24,"placeholder.agree")),t.xp6(3),t.Oqu(t.lcZ(36,26,"placeholder.terms_condations")),t.xp6(4),t.Oqu(t.lcZ(40,28,"label.new_account")),t.xp6(3),t.hij("",t.lcZ(43,30,"label.already_have_account")," "),t.xp6(3),t.Oqu(t.lcZ(46,32,"label.login")))},dependencies:[p.ez,i.$,r.aw,r.X$,e.UX,e._Y,e.YN,e.Kr,e.Fj,e.Wl,e.JJ,e.JL,e.sg,e.u,m.Bz,a.A],styles:[".app-btn[_ngcontent-%COMP%]{background-color:transparent;transition:.5s;cursor:pointer;border:none;outline:none;padding:.8em 1.5em;border-radius:1em}.app-btn-primary[_ngcontent-%COMP%]{background-color:rgb(var(--primary));color:#fff}.app-btn-primary[_ngcontent-%COMP%]:focus, .app-btn-primary[_ngcontent-%COMP%]:hover{box-shadow:0 4px 32px 0 rgba(var(--primary),.4)}.app-btn-accent[_ngcontent-%COMP%]{background-color:rgb(var(--accent));color:#fff!important}.app-btn-accent[_ngcontent-%COMP%]:focus, .app-btn-accent[_ngcontent-%COMP%]:hover{box-shadow:0 4px 32px 0 rgba(var(--accent),.4)}.app-btn-offset-outline[_ngcontent-%COMP%]{color:rgb(var(text));border:1px solid rgb(var(--bg-offset))}.app-btn-offset-outline[_ngcontent-%COMP%]:focus, .app-btn-offset-outline[_ngcontent-%COMP%]:hover{box-shadow:0 4px 32px 0 rgba(var(--bg-offset),.5)}.app-btn-white[_ngcontent-%COMP%]{background-color:#fff;color:rgb(var(--text-color-offset))}.app-btn-white[_ngcontent-%COMP%]:focus, .app-btn-white[_ngcontent-%COMP%]:hover{box-shadow:0 4px 32px 0 rgba(var(--text-color-offset),.1)}h6[_ngcontent-%COMP%]{color:rgb(var(--text-color));font-size:16px;font-weight:500;text-align:center;margin:10px auto}.auth-form-group[_ngcontent-%COMP%]{border-radius:20px;background:#F9F9F9;width:100%;height:100%;display:inline-flex;justify-content:center;align-items:center}.auth-form-group[_ngcontent-%COMP%]   .auth-form-controller[_ngcontent-%COMP%]{padding:15px;background-color:transparent;border:none;outline:none;width:100%;color:rgb(var(--text-color));font-size:16px;font-weight:400}.auth-form-group[_ngcontent-%COMP%]   .auth-form-controller[_ngcontent-%COMP%]::placeholder{color:#0000004d}.form-select[_ngcontent-%COMP%]{border:none;outline:none;background-color:transparent;display:block;width:90%;padding:15px 5px;font-size:1rem}.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{display:block;min-height:1.2em;padding:0 2px 1px;white-space:nowrap}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;display:inline-block;font-size:18px;border-radius:6px}.actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}[_ngcontent-%COMP%]:where(.tablet-mode, .mobile-mode)[_ngcontent-%COMP%]   .auth-form-group[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]::placeholder{font-size:.8em!important}[_ngcontent-%COMP%]:where(.tablet-mode, .mobile-mode)[_ngcontent-%COMP%]   .form-select-group[_ngcontent-%COMP%]{min-width:90px}[_ngcontent-%COMP%]:where(.tablet-mode, .mobile-mode)[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{font-size:13px!important}[_ngcontent-%COMP%]:where(.tablet-mode, .mobile-mode)[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;display:inline-block;font-size:14px;border-radius:6px}[_ngcontent-%COMP%]:where(.tablet-mode, .mobile-mode)[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_ngcontent-%COMP%]:where(.tablet-mode, .mobile-mode)[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}.forms[_ngcontent-%COMP%]{position:relative;z-index:9}.condation[_ngcontent-%COMP%]{font-size:14px}.condation[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{accent-color:rgb(var(--primary));width:20px;height:20px;font-size:10px}.actions[_ngcontent-%COMP%]{text-align:center}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;transition:.5s;cursor:pointer;border:none;outline:none;width:100%;display:inline-block;font-size:18px;border-radius:6px}.actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.actions[_ngcontent-%COMP%]   .regsiter_btn[_ngcontent-%COMP%]{padding:10px;background-color:rgb(var(--primary));color:#fff}"]})}return s})()},2005:(O,h,n)=>{n.d(h,{Q:()=>C});var p=n(6026);class e{constructor(){this.store={}}static getInstance(){return e.instance||(e.instance=new e),e.instance}set(g,o){this.store[g]=o}get(g){return this.store[g]}has(g){const o=this.get(g);return!(!o&&0!=o&&""!=o)}remove(g){delete this.store[g]}}const m=e.getInstance();var r=n(9291),l=n(3052),c=n(9862);let i=(()=>{class u{constructor(o){this.http=o,this.baseUrl=l.N.baseUrl}register(o){return this.http.post(`${this.baseUrl}v1/register`,o)}login(o){return this.http.post(`${this.baseUrl}v1/login`,o)}sendCode(o){return this.http.post(`${this.baseUrl}v1/send-code`,o)}verify(o){return this.http.post(`${this.baseUrl}verify`,o)}resendCode(o){return this.http.post(`${this.baseUrl}resend-code`,o)}verifyPasswordCode(o){return this.http.post(`${this.baseUrl}verify-code`,o)}resetPassword(o){return this.http.post(`${this.baseUrl}reset-password`,o)}static#t=this.\u0275fac=function(s){return new(s||u)(r.LFG(c.eN))};static#e=this.\u0275prov=r.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();var a=n(7699),t=n(9376),f=n(57);let C=(()=>{class u{constructor(o,s,M,d){this.endPoint=o,this.authState=s,this.toaster=M,this.router=d}register(o){this.endPoint.register(o).subscribe({next:s=>{if(![200].includes(s.status))return this.toaster.error(s.msg);m.set("otpType","email"),this.toaster.success(s.msg),this.router.navigate([p.VP.auth.register,{email:o.email}])},error:s=>{this.toaster.error(s)}})}login(o){this.endPoint.login(o).subscribe({next:s=>{if(console.log(s),![200].includes(s.status))return this.toaster.error(s.msg);this.toaster.success(s.msg),this.router.navigate([p.VP.home])},error:s=>{this.toaster.error(s)}})}forgetPassword(o){this.endPoint.sendCode(o).subscribe({next:()=>{this.router.navigate([p.VP.auth.confirm,{key:o.key}])}})}static#t=this.\u0275fac=function(s){return new(s||u)(r.LFG(i),r.LFG(a.V),r.LFG(t.M),r.LFG(f.F0))};static#e=this.\u0275prov=r.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},7699:(O,h,n)=>{n.d(h,{V:()=>m});var p=n(9291);let e=(()=>{class r{constructor(){}get(c){const i=document.cookie.split("; ");for(const a of i){const[t,f]=a.split("=");if(t===c)return JSON.parse(f)}return!1}set(c,i,a=7){const t=new Date;t.setDate(t.getDate()+a);const f=`${c}=${JSON.stringify(i)}; expires=${t.toUTCString()}; path=/; secure`;document.cookie=f}delete(c){const a=`${c}=; expires=${new Date(0).toUTCString()}; path=/`;document.cookie=a}static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),m=(()=>{class r{constructor(c){this.cookie=c,this.isLoggedIn=(0,p.tdS)(!0),this.detectUserState()}logout(){this.cookie.delete("auth_token"),this.detectUserState()}detectUserState(){const c=!!this.cookie.get("auth_token");this.isLoggedIn.update(()=>c),c&&(this.user=this.cookie.get("user"))}login(c){localStorage.setItem("auth_token",JSON.stringify(c)),this.cookie.set("user",c,15),this.detectUserState()}static#t=this.\u0275fac=function(i){return new(i||r)(p.LFG(e))};static#e=this.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()},5524:(O,h,n)=>{n.d(h,{$:()=>r});var p=n(6814),e=n(9291);let m=(()=>{class l{constructor(){this.state=!1,this.closedEvent=i=>{const a=i.target.closest(".ng-menu");console.log("event"),a||this.close()}}open(){this.state=!0,setTimeout(()=>{document.addEventListener("click",this.closedEvent)},1)}close(){this.state=!1,document.removeEventListener("click",this.closedEvent)}toggle(i){const a=i.target;this.setMenu(a.getClientRects(),a.clientHeight),this.state?this.close():this.open()}setMenu(i,a){this.menuEl.style.top=`${i[0].top+a+2}px`,this.menuEl.style.left=`${i[0].left}px`,this.menuEl.style.transform=`translateX(-${i[0].width}px)`}static#t=this.\u0275fac=function(a){return new(a||l)};static#e=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac})}return l})(),r=(()=>{class l{static#t=this.\u0275fac=function(a){return new(a||l)};static#e=this.\u0275mod=e.oAB({type:l});static#o=this.\u0275inj=e.cJS({providers:[m],imports:[p.ez]})}return l})()}}]);